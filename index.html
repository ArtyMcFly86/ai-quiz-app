<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Arty McFly's Quiz</title>
  <style>
    body { background:#121212; color:#e0e0e0; font-family:sans-serif; padding:20px; }
    .container { max-width:600px; margin:auto; }
    h1 { color:#90caf9; text-align:center; }
    .hidden { display:none; }
    .question { font-weight:bold; margin:20px 0 10px; }
    .option label { display:block; padding:8px; background:#1e1e1e; border-radius:4px; margin-bottom:5px; cursor:pointer; }
    button { background:#1976d2; color:#fff; border:none; padding:10px 20px; border-radius:4px; cursor:pointer; display:block; margin:20px auto; }
    button:hover { background:#1565c0; }
    #timer { text-align:center; color:#ff9800; margin-bottom:10px; }
  </style>
</head>
<body>
  <div class="container">
    <img src="ChatGPT Image Jun 23, 2025, 12_35_55 AM.png" class="logo" style="max-width:150px;display:block;margin:0 auto 10px;">
    <h1>Arty McFly’s Quiz</h1>

    <div id="setup">
      <label>Mode:
        <select id="mode">
          <option value="exam">Exam Mode</option>
          <option value="review">Review Mode</option>
        </select>
      </label><br><br>
      <label>Time (min): <input type="number" id="timeInput" value="60" min="1"></label><br><br>
      <label># of Questions: <input type="number" id="numQuestionsInput" value="2" min="1" max="60"></label><br><br>
      <button id="startBtn">Start Quiz</button>
    </div>

    <div id="quiz" class="hidden">
      <div id="timer"></div>
      <div id="questionBox"></div>
      <button id="nextBtn">Next</button>
    </div>

    <div id="results" class="hidden"></div>
  </div>

  <script>
    // — your full 60+ question array goes here — for now we test with two:
    const allQuestions = [
      { q:"What’s 2+2?", options:["3","4","5","6"], answer:1, explanation:"2+2 = 4" },
      { q:"Suno AI is best known for?", options:["Music creation","Weather forecasting","Chip design","Banking"], answer:0, explanation:"It’s an AI music tool." }
    ];

    let selectedQuestions=[], current=0, score=0, mode, timer, timeLeft;

    function shuffle(a){
      for(let i=a.length-1;i>0;i--){
        let j=Math.floor(Math.random()*(i+1));
        [a[i],a[j]]=[a[j],a[i]];
      }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
      document.getElementById("startBtn").addEventListener("click", startQuiz);
      document.getElementById("nextBtn").addEventListener("click", nextQuestion);
    });

    function startQuiz(){
      mode = document.getElementById("mode").value;
      const n = parseInt(document.getElementById("numQuestionsInput").value,10);
      timeLeft = parseInt(document.getElementById("timeInput").value,10)*60;
      selectedQuestions = allQuestions.slice();
      shuffle(selectedQuestions);
      selectedQuestions = selectedQuestions.slice(0,n);
      document.getElementById("setup").classList.add("hidden");
      document.getElementById("quiz").classList.remove("hidden");
      showQuestion();
      startTimer();
    }

    function startTimer(){
      updateTimer();
      timer = setInterval(()=>{ timeLeft--; updateTimer(); if(timeLeft<=0){clearInterval(timer); endQuiz();} },1000);
    }

    function updateTimer(){
      const m=Math.floor(timeLeft/60), s=timeLeft%60;
      document.getElementById("timer").innerText = `Time Left: ${m}:${s.toString().padStart(2,"0")}`;
    }

    function showQuestion(){
      if(current>=selectedQuestions.length) return endQuiz();
      const q=selectedQuestions[current];
      let html = `<div class="question">${current+1}. ${q.q}</div>`;
      q.options.forEach((opt,i)=>{
        html += `<div class="option"><label><input name="opt" type="radio" value="${i}"> ${opt}</label></div>`;
      });
      document.getElementById("questionBox").innerHTML = html;
    }

    function nextQuestion(){
      const sel = document.querySelector('input[name="opt"]:checked');
      if(!sel) return alert("Please select an answer.");
      if(parseInt(sel.value,10)===selectedQuestions[current].answer) score++;
      else if(mode==="review") alert(`Incorrect. ${selectedQuestions[current].explanation}`);
      current++;
      showQuestion();
    }

    function endQuiz(){
      clearInterval(timer);
      document.getElementById("quiz").classList.add("hidden");
      let out = `<h2>Quiz Complete!</h2><p>Score: ${score} / ${selectedQuestions.length}</p><h3>Review</h3>`;
      selectedQuestions.forEach((q,i)=>{
        out += `<div><b>${i+1}. ${q.q}</b><br>Answer: ${q.options[q.answer]}<br>${q.explanation}</div><hr>`;
      });
      const res = document.getElementById("results");
      res.innerHTML = out;
      res.classList.remove("hidden");
    }
  </script>
</body>
</html>
